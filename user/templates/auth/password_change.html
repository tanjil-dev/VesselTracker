{% extends "base.html" %}
{% block content %}
<div class="container">
    <div class="d-flex justify-content-center">
        <div class="user_card">
            <br>
            <div class="d-flex justify-content-center">
                <h3 class="text-primary"><i class="fa-solid fa-unlock"></i> Change password</h3>
            </div>
            <div class="d-flex justify-content-center form_container">
                <form method="POST" action="">
                    {% csrf_token %}
                    <div class="form-group">
                        <div class="input-group">
                            {{ form.old_password }}
                            <div class="input-group-append">
                        <span class="input-group-text"
                              onclick="togglePasswordVisibility('id_old_password', 'toggle-old-password')">
                            <i class="fas fa-eye" id="toggle-old-password"></i>
                        </span>
                            </div>
                        </div>
                        {% for error in form.old_password.errors %}
                        <div class="text-danger">{{ error }}</div>
                        {% endfor %}
                    </div>
                    <br>
                    <div class="form-group">
                        <div class="input-group">
                            {{ form.new_password1 }}
                            <div class="input-group-append">
                                <span class="input-group-text"
                                      onclick="togglePasswordVisibility('id_new_password1', 'toggle-new-password1')">
                                    <i class="fas fa-eye" id="toggle-new-password1"></i>
                                </span>
                            </div>
                        </div>
                        {% for error in form.new_password1.errors %}
                        <div class="text-danger">{{ error }}</div>
                        {% endfor %}
                    </div>
                    <br>
                    <div class="form-group">
                        <div class="input-group">
                            {{ form.new_password2 }}
                            <div class="input-group-append">
                                <span class="input-group-text"
                                      onclick="togglePasswordVisibility('id_new_password2', 'toggle-new-password2')">
                                    <i class="fas fa-eye" id="toggle-new-password2"></i>
                                </span>
                            </div>
                        </div>
                        {% for error in form.new_password2.errors %}
                        <div class="text-danger">{{ error }}</div>
                        {% endfor %}
                    </div>
                    <div class="d-flex justify-content-center mt-3 login_container">
                        <input class="btn login_btn" type="submit" value="Submit">
                    </div>
                </form>
            </div>
            <br>
        </div>
    </div>
</div>
</div>
<script>
    var form_fields = document.getElementsByTagName('input')
		form_fields[1].placeholder='Old password...';
		form_fields[2].placeholder='New password...';
		form_fields[3].placeholder='New Password...';


		for (var field in form_fields){
			form_fields[field].className += ' form-control'
		}
</script>
{% endblock content %}